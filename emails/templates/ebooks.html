<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>eBook Sale</title>
    <!-- importing from Bootstrap --->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
</head>
<meta name="viewport" content="width=device-width, initial-scale=1">


<body>
<div>
    <!-- heading on page --->
    <h2>eBook Catalog</h2>
    <!-- form for users to input their book listing --->
    <form action="" method="POST">
        <!-- user inputs book title here --->
        <label>eBook Title:</label>
        <input id="name" type="text" name="name" placeholder="Book Title">
        <!-- user inputs the book price here --->
        <label for="rating">Price</label>
        <input id="rating" type="number" name="rating" placeholder="$$">
        <!-- submit button --->
        <button class="btn  my-2 my-sm-0 text-white bg-danger" type="submit"> Sell your book</button>
    </form>  <!-- end of form --->

</div>
<!-- using jinja and displaying results on cards --->
{% for books in ebook_catalog  %}
<div class="card bg-light">
    <div class="card-body">
        <button class="btn  my-2 my-sm-0 text-white bg-danger" type="submit"> BUY </button>
        <b> {{books.title}}, ${{books.price}}</b>  <!-- getters, which get the book listings from python --->
        <p> listed by: unknown seller</p>

    </div>
</div>
{% endfor  %}



</div>

<script>
    //fixes the double post upon refresh.
    if ( window.history.replaceState ) {
        console.log('history replaceState...')
        window.history.replaceState( null, null, window.location.href );
    }
</script>
</body>
</html>
